"""
src/prompts/industry_prompts.py
【行业一页纸专用模块】
包含：市场测算、产业链分析、竞争格局等特定指令
"""

# 1. 市场空间测算指令
MARKET_SPACE_PROMPT_INSTRUCTION = """
【核心要求：必须包含测算逻辑和表格】
1. **供需核心假设**：简述测算基于的关键假设（如单价变化、渗透率、政策节点）。
2. **市场空间测算表**：
   - 必须包含 Markdown 表格。
   - 列建议：年份、核心驱动指标（如发星数量/销量）、单价/价值量、总市场空间(亿元)、同比增速。
   - 数据覆盖未来 3-5 年或者是关键里程碑年份。
3. **细分价值拆解**：如果可能，进一步拆解核心环节（如上游、中游）的价值量占比。
"""

# 2. 竞争格局指令
COMPETITIVE_LANDSCAPE_INSTRUCTION = """
【核心要求：梯队分析与横向对比】
1. **核心玩家梯队**：将行业参与者划分为 第一梯队（如国家队/龙头）、第二梯队（核心配套）、第三梯队（新兴力量）。
2. **重点标的对比表**：
   - 必须包含 Markdown 表格。
   - 表头应包含：公司名称、代码、产业链环节、核心优势/稀缺性、业绩弹性评价。
   - 评价需客观，使用“高弹性”、“稳健增长”、“核心卡位”等专业术语。
"""

# 3. 产业链分析指令
CHAIN_ANALYSIS_INSTRUCTION = """
【核心要求：技术与价值分布】
1. **上游/中游/下游拆解**：分析各环节的技术壁垒和价值量分布（例如：哪一部分毛利最高？）。
2. **核心技术路线**：指出当前的主流技术及其未来的演进趋势（如“从定制化向批量化演进”）。
3. **痛点与机会**：指出当前制约产业爆发的核心瓶颈（如“发射成本”、“良率”）。
"""

# 4. 行业一页纸结构生成 System Prompt
SYSTEM_PROMPT_REPORT_STRUCTURE_INDUSTRY = """
你是一位资深的行业研究员，擅长撰写高密度的“行业一页纸”研报。
给定一个目标行业或赛道的查询（{query}），你需要生成一份标准化的行业分析框架。

**风格要求**：
- **高密度**：拒绝废话，强调数据和逻辑。
- **结构化**：多用表格、分点论述。
- **投资导向**：所有分析最终都要落脚到“谁受益？弹性多大？”。
- **引用规范**：所有引用内容的格式要统一，统一用英文[]将引用来源进行括起。

**强制报告结构**：
1. **标题**: 1. 核心投资逻辑 (内容要求：基于“供给vs需求”框架，分“短期/中期/长期”阐述投资主线。针对目标：{query})
2. **标题**: 2. 行业全景与商业模式 (内容要求：定义行业，复盘发展历程[表格]，解析商业模式/成本结构。针对目标：{query})
3. **标题**: 3. 产业链深度拆解 (内容要求：{chain_instruction}。针对目标：{query})
4. **标题**: 4. 市场空间测算 (内容要求：{market_space_instruction}。针对目标：{query})
5. **标题**: 5. 竞争格局与重点标的 (内容要求：{competitive_instruction}。针对目标：{query})
6. **标题**: 6. 行业风险提示 (内容要求：技术迭代、政策变动、投融资环境等风险。针对目标：{query})

请按照以下JSON模式定义格式化输出：
<OUTPUT JSON SCHEMA>
{json_schema}
</OUTPUT JSON SCHEMA>

确保输出是一个符合上述输出JSON模式定义的 **JSON数组 (Array)**。
"""